<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MailSift AI Settings</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="popup-container">
        <header class="popup-header">
            <div class="logo">
                <span class="logo-icon">ðŸ“§</span>
                <h1>MailSift AI</h1>
            </div>
            <p class="subtitle">AI-powered email prioritization</p>
        </header>

        <main class="popup-content">
            <!-- Keywords Section -->
            <section class="section">
                <h2>Priority Keywords</h2>
                <p class="section-description">
                    Add keywords to prioritize emails. Emails containing these keywords will be highlighted and moved to the top.
                </p>
                
                <div class="keywords-container">
                    <div class="keyword-input-group">
                        <input type="text" id="keywordInput" placeholder="Enter keyword (e.g., urgent, meeting, deadline)" maxlength="50">
                        <button id="addKeywordBtn" class="btn btn-primary">Add</button>
                    </div>
                    
                    <div id="keywordsList" class="keywords-list">
                        <!-- Keywords will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section class="section">
                <h2>Settings</h2>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <label for="highlightToggle">Highlight Priority Emails</label>
                        <p class="setting-description">Visually highlight and move priority emails to the top</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="highlightToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <label for="summarizeToggle">AI Summarization</label>
                        <p class="setting-description">Automatically summarize priority emails using AI</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="summarizeToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <label for="widgetToggle">Show Floating Widget</label>
                        <p class="setting-description">Display the floating widget with top priority emails</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="widgetToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </section>

            <!-- Privacy Section -->
            <section class="section">
                <h2>Privacy & Consent</h2>
                <div class="privacy-info">
                    <p>ðŸ”’ <strong>Your privacy is important to us:</strong></p>
                    <ul>
                        <li>We never store your emails</li>
                        <li>Only email content (not metadata) is sent to OpenAI</li>
                        <li>All data is processed locally when possible</li>
                        <li>You can opt-out anytime</li>
                    </ul>
                </div>
                
                <div class="consent-status">
                    <span id="consentStatus" class="status-badge">Checking...</span>
                    <button id="updateConsentBtn" class="btn btn-secondary" style="display: none;">Update Consent</button>
                </div>
            </section>
        </main>

        <footer class="popup-footer">
            <div class="footer-actions">
                <button id="refreshBtn" class="btn btn-secondary">ðŸ”„ Refresh</button>
                <button id="resetBtn" class="btn btn-danger">Reset Settings</button>
            </div>
            <div class="footer-info">
                <p>Version 1.0.0</p>
                <p>Works with Gmail, Outlook, and Yahoo Mail</p>
            </div>
        </footer>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Confirm Action</h3>
            <p id="confirmMessage">Are you sure you want to perform this action?</p>
            <div class="modal-actions">
                <button id="confirmYes" class="btn btn-danger">Yes</button>
                <button id="confirmNo" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html> 